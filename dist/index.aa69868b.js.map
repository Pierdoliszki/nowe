{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["/**\n * main.js\n * http://www.codrops.com\n *\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n * \n * Copyright 2015, Codrops\n * http://www.codrops.com\n */\n;(function(window) {\n\n\t'use strict';\n\n\tvar support = { transitions: Modernizr.csstransitions },\n\t\t// transition end event name\n\t\ttransEndEventNames = { 'WebkitTransition': 'webkitTransitionEnd', 'MozTransition': 'transitionend', 'OTransition': 'oTransitionEnd', 'msTransition': 'MSTransitionEnd', 'transition': 'transitionend' },\n\t\ttransEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\n\t\tonEndTransition = function( el, callback ) {\n\t\t\tvar onEndCallbackFn = function( ev ) {\n\t\t\t\tif( support.transitions ) {\n\t\t\t\t\tif( ev.target != this ) return;\n\t\t\t\t\tthis.removeEventListener( transEndEventName, onEndCallbackFn );\n\t\t\t\t}\n\t\t\t\tif( callback && typeof callback === 'function' ) { callback.call(this); }\n\t\t\t};\n\t\t\tif( support.transitions ) {\n\t\t\t\tel.addEventListener( transEndEventName, onEndCallbackFn );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tonEndCallbackFn();\n\t\t\t}\n\t\t},\n\t\t// the pages wrapper\n\t\tstack = document.querySelector('.pages-stack'),\n\t\t// the page elements\n\t\tpages = [].slice.call(stack.children),\n\t\t// total number of page elements\n\t\tpagesTotal = pages.length,\n\t\t// index of current page\n\t\tcurrent = 0,\n\t\t// menu button\n\t\tmenuCtrl = document.querySelector('button.menu-button'),\n\t\t// the navigation wrapper\n\t\tnav = document.querySelector('.pages-nav'),\n\t\t// the menu nav items\n\t\tnavItems = [].slice.call(nav.querySelectorAll('.link--page')),\n\t\t// check if menu is open\n\t\tisMenuOpen = false;\n\n\tfunction init() {\n\t\tbuildStack();\n\t\tinitEvents();\n\t}\n\n\tfunction buildStack() {\n\t\tvar stackPagesIdxs = getStackPagesIdxs();\n\n\t\t// set z-index, opacity, initial transforms to pages and add class page--inactive to all except the current one\n\t\tfor(var i = 0; i < pagesTotal; ++i) {\n\t\t\tvar page = pages[i],\n\t\t\t\tposIdx = stackPagesIdxs.indexOf(i);\n\n\t\t\tif( current !== i ) {\n\t\t\t\tclassie.add(page, 'page--inactive');\n\n\t\t\t\tif( posIdx !== -1 ) {\n\t\t\t\t\t// visible pages in the stack\n\t\t\t\t\tpage.style.WebkitTransform = 'translate3d(0,100%,0)';\n\t\t\t\t\tpage.style.transform = 'translate3d(0,100%,0)';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// invisible pages in the stack\n\t\t\t\t\tpage.style.WebkitTransform = 'translate3d(0,75%,-300px)';\n\t\t\t\t\tpage.style.transform = 'translate3d(0,75%,-300px)';\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tclassie.remove(page, 'page--inactive');\n\t\t\t}\n\n\t\t\tpage.style.zIndex = i < current ? parseInt(current - i) : parseInt(pagesTotal + current - i);\n\t\t\t\n\t\t\tif( posIdx !== -1 ) {\n\t\t\t\tpage.style.opacity = parseFloat(1 - 0.1 * posIdx);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpage.style.opacity = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t// event binding\n\tfunction initEvents() {\n\t\t// menu button click\n\t\tmenuCtrl.addEventListener('click', toggleMenu);\n\n\t\t// navigation menu clicks\n\t\tnavItems.forEach(function(item) {\n\t\t\t// which page to open?\n\t\t\tvar pageid = item.getAttribute('href').slice(1);\n\t\t\titem.addEventListener('click', function(ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\topenPage(pageid);\n\t\t\t});\n\t\t});\n\n\t\t// clicking on a page when the menu is open triggers the menu to close again and open the clicked page\n\t\tpages.forEach(function(page) {\n\t\t\tvar pageid = page.getAttribute('id');\n\t\t\tpage.addEventListener('click', function(ev) {\n\t\t\t\tif( isMenuOpen ) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\topenPage(pageid);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// keyboard navigation events\n\t\tdocument.addEventListener( 'keydown', function( ev ) {\n\t\t\tif( !isMenuOpen ) return; \n\t\t\tvar keyCode = ev.keyCode || ev.which;\n\t\t\tif( keyCode === 27 ) {\n\t\t\t\tcloseMenu();\n\t\t\t}\n\t\t} );\n\t}\n\n\t// toggle menu fn\n\tfunction toggleMenu() {\n\t\tif( isMenuOpen ) {\n\t\t\tcloseMenu();\n\t\t}\n\t\telse {\n\t\t\topenMenu();\n\t\t\tisMenuOpen = true;\n\t\t}\n\t}\n\n\t// opens the menu\n\tfunction openMenu() {\n\t\t// toggle the menu button\n\t\tclassie.add(menuCtrl, 'menu-button--open')\n\t\t// stack gets the class \"pages-stack--open\" to add the transitions\n\t\tclassie.add(stack, 'pages-stack--open');\n\t\t// reveal the menu\n\t\tclassie.add(nav, 'pages-nav--open');\n\n\t\t// now set the page transforms\n\t\tvar stackPagesIdxs = getStackPagesIdxs();\n\t\tfor(var i = 0, len = stackPagesIdxs.length; i < len; ++i) {\n\t\t\tvar page = pages[stackPagesIdxs[i]];\n\t\t\tpage.style.WebkitTransform = 'translate3d(0, 75%, ' + parseInt(-1 * 200 - 50*i) + 'px)'; // -200px, -230px, -260px\n\t\t\tpage.style.transform = 'translate3d(0, 75%, ' + parseInt(-1 * 200 - 50*i) + 'px)';\n\t\t}\n\t}\n\n\t// closes the menu\n\tfunction closeMenu() {\n\t\t// same as opening the current page again\n\t\topenPage();\n\t}\n\n\t// opens a page\n\tfunction openPage(id) {\n\t\tvar futurePage = id ? document.getElementById(id) : pages[current],\n\t\t\tfutureCurrent = pages.indexOf(futurePage),\n\t\t\tstackPagesIdxs = getStackPagesIdxs(futureCurrent);\n\n\t\t// set transforms for the new current page\n\t\tfuturePage.style.WebkitTransform = 'translate3d(0, 0, 0)';\n\t\tfuturePage.style.transform = 'translate3d(0, 0, 0)';\n\t\tfuturePage.style.opacity = 1;\n\n\t\t// set transforms for the other items in the stack\n\t\tfor(var i = 0, len = stackPagesIdxs.length; i < len; ++i) {\n\t\t\tvar page = pages[stackPagesIdxs[i]];\n\t\t\tpage.style.WebkitTransform = 'translate3d(0,100%,0)';\n\t\t\tpage.style.transform = 'translate3d(0,100%,0)';\n\t\t}\n\n\t\t// set current\n\t\tif( id ) {\n\t\t\tcurrent = futureCurrent;\n\t\t}\n\t\t\n\t\t// close menu..\n\t\tclassie.remove(menuCtrl, 'menu-button--open');\n\t\tclassie.remove(nav, 'pages-nav--open');\n\t\tonEndTransition(futurePage, function() {\n\t\t\tclassie.remove(stack, 'pages-stack--open');\n\t\t\t// reorganize stack\n\t\t\tbuildStack();\n\t\t\tisMenuOpen = false;\n\t\t});\n\t}\n\n\t// gets the current stack pages indexes. If any of them is the excludePage then this one is not part of the returned array\n\tfunction getStackPagesIdxs(excludePageIdx) {\n\t\tvar nextStackPageIdx = current + 1 < pagesTotal ? current + 1 : 0,\n\t\t\tnextStackPageIdx_2 = current + 2 < pagesTotal ? current + 2 : 1,\n\t\t\tidxs = [],\n\n\t\t\texcludeIdx = excludePageIdx || -1;\n\n\t\tif( excludePageIdx != current ) {\n\t\t\tidxs.push(current);\n\t\t}\n\t\tif( excludePageIdx != nextStackPageIdx ) {\n\t\t\tidxs.push(nextStackPageIdx);\n\t\t}\n\t\tif( excludePageIdx != nextStackPageIdx_2 ) {\n\t\t\tidxs.push(nextStackPageIdx_2);\n\t\t}\n\n\t\treturn idxs;\n\t}\n\n\tinit();\n\t\n\t//changes to a page such as id=\"page-manuals\" without opening the menu and preserving menu transition functionality\n\twindow.openPageNoTransition = function(id){\n\n\t\tvar futurePage = id ? document.getElementById(id) : pages[current],\n\t\t\tfutureCurrent = pages.indexOf(futurePage),\n\t\t\tstackPagesIdxs = getStackPagesIdxs(futureCurrent);\n\n\t\t// set transforms for the new current page\n\t\tfuturePage.style.WebkitTransform = 'translate3d(0, 0, 0)';\n\t\tfuturePage.style.transform = 'translate3d(0, 0, 0)';\n\t\tfuturePage.style.opacity = 1;\n\n\t\tclassie.remove(futurePage, 'page--inactive');\n\n\t\t// set current\n\t\tif( id ) {\n\t\t\tcurrent = futureCurrent;\n\t\t}\n\n\t\tbuildStack();\n\t}\n})(window);"],"names":[],"version":3,"file":"index.aa69868b.js.map","sourceRoot":"/__parcel_source_root/"}